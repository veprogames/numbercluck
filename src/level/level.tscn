[gd_scene load_steps=7 format=3 uid="uid://csirhoma08qby"]

[ext_resource type="PackedScene" uid="uid://85e3iw673mt3" path="res://src/level/score.tscn" id="1_lh72d"]
[ext_resource type="PackedScene" uid="uid://fkm4605pjvfr" path="res://src/ui/game_background.tscn" id="1_rrjeo"]
[ext_resource type="PackedScene" uid="uid://dmadk3p2xaxw7" path="res://src/level/level_camera.tscn" id="6_033fb"]
[ext_resource type="PackedScene" uid="uid://dr6h7nhhb3ynm" path="res://src/ui/score_counter.tscn" id="9_1w3ay"]
[ext_resource type="PackedScene" uid="uid://d1hyply7t8dwp" path="res://src/ui/player_ui.tscn" id="10_tb6jf"]
[ext_resource type="PackedScene" uid="uid://brc3mmjs7pgw8" path="res://src/player/player_state.tscn" id="10_y8hov"]

[node name="Level" type="Node2D" groups=["level"]]

[node name="GameBackground" parent="." instance=ExtResource("1_rrjeo")]

[node name="Score" parent="." instance=ExtResource("1_lh72d")]

[node name="CanvasLayerUI" type="CanvasLayer" parent="."]

[node name="ScoreCounter" parent="CanvasLayerUI" node_paths=PackedStringArray("score") instance=ExtResource("9_1w3ay")]
score = NodePath("../../Score")

[node name="PlayerUI" parent="CanvasLayerUI" node_paths=PackedStringArray("player_state") instance=ExtResource("10_tb6jf")]
player_state = NodePath("../../PlayerState")

[node name="PlayerState" parent="." instance=ExtResource("10_y8hov")]

[node name="EffectContainer" type="Node" parent="." groups=["effect_container"]]

[node name="LevelCamera" parent="." instance=ExtResource("6_033fb")]
position = Vector2(960, 540)
anchor_mode = 1
ignore_rotation = false
process_callback = 0

[connection signal="player_damaged" from="PlayerState" to="LevelCamera" method="_on_player_state_player_damaged"]
